webpackJsonp([1],{"3pAI":function(t,e){},IhNR:function(t,e){},NHnr:function(t,e,i){"use strict";function s(t){i("SmIP")}function n(t){i("IhNR")}function o(t){i("3pAI")}function r(t){i("Xpi0")}function a(t){i("ulSH")}Object.defineProperty(e,"__esModule",{value:!0});var c=i("7+uW"),u=i("MMSg"),h=i.n(u);i("doPI");c.a.use(h.a);var l={name:"app"},v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section",attrs:{id:"app"}},[i("h1",{staticClass:"title has-text-centered"},[t._v("Guess that Movie")]),t._v(" "),i("router-view")],1)},d=[],m={render:v,staticRenderFns:d},f=m,p=i("VU/8"),_=s,w=p(l,f,!1,_,null,null),g=w.exports,b=i("/ocq"),C=i("GDE4"),$=i.n(C),y={name:"Intro",components:{vueSlider:$.a},data:function(){return{slider:{value:[1990,2017],options:{min:1970,max:2017,width:"auto"}}}}},x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"container"},[t._m(0,!1,!1),t._v(" "),i("div",{staticClass:"config"},[i("div",{staticClass:"slider-wrapper"},[i("h2",{staticClass:"is-size-4 has-text-centered"},[t._v("Movies released between years")]),t._v(" "),i("vue-slider",t._b({model:{value:t.slider.value,callback:function(e){t.$set(t.slider,"value",e)},expression:"slider.value"}},"vue-slider",t.slider.options,!1))],1),t._v(" "),i("div",{staticClass:"start-wrapper"},[i("router-link",{staticClass:"button is-primary is-large",attrs:{to:{name:"Game",params:{start:this.slider.value[0],end:this.slider.value[1]}}}},[t._v("Start")])],1)])])},M=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content has-text-centered"},[i("h1",[t._v("Rules")]),t._v(" "),i("p",[t._v("Try to type in the name of the movie as hints are revealed")]),t._v(" "),i("p",[t._v("Each movie is worth 1000 points at the start of the round")]),t._v(" "),i("p",[t._v("As time goes by and clues are revealed, a correct answer is worth fewer points")]),t._v(" "),i("p",[t._v("There is no penalty for guessing incorrectly")])])}],T={render:x,staticRenderFns:M},G=T,k=i("VU/8"),O=n,R=k(y,G,!1,O,"data-v-546e0246",null),S=R.exports,I=i("woOf"),j=i.n(I),P=i("mtWM"),z=i.n(P),L=i("7DmX"),Q=i.n(L),E=i("M4fF"),H=new c.a,D={name:"Timer",data:function(){return{timeStart:13e3,timeLeft:13e3,maxPoints:1e3,tick:20,timerObj:null}},computed:{timeToPoints:function(){return Math.floor(this.maxPoints/this.timeStart*this.timeLeft)},timeToPercent:function(){return Math.floor(this.timeLeft/this.timeStart*100)}},created:function(){var t=this;H.$on("start-timer",function(){t.startTimer()}),H.$on("stop-timer",function(){t.stopTimer()}),H.$on("reset-timer",function(){t.resetTimer()})},destroyed:function(){H.$off("start-timer"),H.$off("stop-timer"),H.$off("reset-timer")},watch:{timeLeft:function(){switch(this.timeLeft){case this.timeStart:H.$emit("show-hint-1");break;case 11e3:H.$emit("show-hint-2");break;case 8e3:H.$emit("show-hint-3");break;case 6e3:H.$emit("show-hint-4");break;case 4e3:H.$emit("show-hint-5");break;case 0:H.$emit("show-hint-6"),H.$emit("round-time-expired")}}},methods:{startTimer:function(){this.timerObj=window.setInterval(this.tickDown,this.tick)},stopTimer:function(){window.clearInterval(this.timerObj),H.$emit("report-score",this.timeToPoints)},resetTimer:function(){this.timerObj=null,this.timeLeft=this.timeStart},tickDown:function(){this.timeLeft>0&&(this.timeLeft=this.timeLeft-this.tick)}}},F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("progress",{staticClass:"progress is-primary is-small",attrs:{max:"100"},domProps:{value:t.timeToPercent}},[t._v(t._s(t.timeToPercent))])])},A=[],N={render:F,staticRenderFns:A},U=N,V=i("VU/8"),X=o,W=V(D,U,!1,X,"data-v-0cf4afbf",null),q=W.exports,J={name:"Movie",props:["info"],data:function(){return{showTagline:!1,showGenre:!1,showRelease:!1,showStarring:!1,showOverview:!1,showTitle:!1}},created:function(){var t=this;H.$on("show-hint-1",function(){t.showTagline=!0}),H.$on("show-hint-2",function(){t.showGenre=!0}),H.$on("show-hint-3",function(){t.showRelease=!0}),H.$on("show-hint-4",function(){t.showStarring=!0}),H.$on("show-hint-5",function(){t.showOverview=!0}),H.$on("show-hint-6",function(){t.showTitle=!0}),H.$on("reset-movie",function(){t.resetMovie()})},destroyed:function(){H.$off("show-hint-1"),H.$off("show-hint-2"),H.$off("show-hint-3"),H.$off("show-hint-4"),H.$off("show-hint-5"),H.$off("show-hint-6"),H.$off("reset-movie")},computed:{starring:function(){if(!this.info||!this.info.credits)return"";var t=[];return Object(E.take)(this.info.credits.cast,5).map(function(e){t.push(e.name)}),t.join(", ")},genre:function(){if(!this.info||!this.info.genres)return"";var t=[];return Object(E.take)(this.info.genres,3).map(function(e){t.push(e.name)}),t.join(", ")},backdropImg:function(){return"https://image.tmdb.org/t/p/w780/"+this.info.backdrop_path},posterImg:function(){return"https://image.tmdb.org/t/p/w342/"+this.info.poster_path}},methods:{resetMovie:function(){this.showTagline=!1,this.showGenre=!1,this.showRelease=!1,this.showStarring=!1,this.showOverview=!1,this.showTitle=!1}}},Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"movie-wrapper"},[i("div",{staticClass:"movie-backdrop"},[i("img",{attrs:{src:t.backdropImg,alt:this.info.title}})]),t._v(" "),i("div",{staticClass:"movie-overlay"},[i("div",{staticClass:"movie-overlay-content"},[i("div",{staticClass:"movie-overlay-upper"},[i("figure",{staticClass:"movie-poster"},[i("transition",{attrs:{name:"fade"}},[t.showTitle?i("img",{attrs:{src:t.posterImg,alt:this.info.title}}):t._e()])],1),t._v(" "),i("div",{staticClass:"movie-info"},[i("div",{staticClass:"title has-text-white"},[t.showTitle?t._e():i("div",[t._v(" ")]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showTitle?i("div",[t._v(t._s(this.info.title))]):t._e()])],1),t._v(" "),i("div",{staticClass:"subtitle has-text-white"},[t._v("\n            "+t._s(this.info.tagline)+"\n          ")]),t._v(" "),i("div",{staticClass:"is-size-5"},[t.showGenre?t._e():i("div",[t._v(" ")]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showGenre?i("div",[t._v(t._s(t.genre))]):t._e()])],1),t._v(" "),i("div",{staticClass:"is-size-5"},[t.showRelease?t._e():i("div",[t._v(" ")]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showRelease?i("div",[t._v("Released: "+t._s(this.info.release_date))]):t._e()])],1),t._v(" "),i("div",{staticClass:"is-size-5"},[t.showStarring?t._e():i("div",[t._v(" ")]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showStarring?i("div",[t._v("Starring: "+t._s(t.starring))]):t._e()])],1),t._v(" "),i("div",{staticClass:"movie-overview"},[t.showOverview?t._e():i("div",[t._v(" ")]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showOverview?i("p",[t._v(t._s(this.info.overview))]):t._e()])],1)])]),t._v(" "),i("div",{staticClass:"movie-summary"})])])])},B=[],K={render:Y,staticRenderFns:B},Z=K,tt=i("VU/8"),et=r,it=tt(J,Z,!1,et,"data-v-3858e9f2",null),st=it.exports,nt={name:"Game",components:{Timer:q,Movie:st},data:function(){return{movieData:null,movieList:[],score:0,currentQuestion:0,totalQuestions:10,currentGuess:"",currentMovieIndex:0,currentMovie:{},currentMovieFuzzyMatch:null,solved:!1,roundHistory:[]}},beforeRouteEnter:function(t,e,i){z.a.get("https://api.themoviedb.org/3/discover/movie",{params:{api_key:"c4ad04648c8511d24d60ef4965cb2e52",page:Math.floor(30*Math.random())+1,sort_by:"popularity.desc",with_original_language:"en",include_adult:!1,"primary_release_date.gte":t.params.start,"primary_release_date.lte":t.params.end}}).then(function(t){i(function(e){return j()(e.$data,{movieData:t.data})})}).catch(function(t){console.log(t)})},computed:{gameOver:function(){return this.currentQuestion===this.totalQuestions}},created:function(){var t=this;H.$on("report-score",function(e){t.addToScore(e)}),H.$on("round-time-expired",function(){t.handleTimeRanOut()})},destroyed:function(){H.$off("report-score"),H.$off("round-time-expired")},watch:{movieData:function(){this.beginGame()},currentGuess:function(){this.handleGuess()}},methods:{beginGame:function(){H.$emit("stop-timer"),this.currentQuestion=0,this.movieList=Object(E.shuffle)(this.movieData.results),this.nextRound()},getMovie:function(){return z.a.get("https://api.themoviedb.org/3/movie/"+this.movieList[this.currentMovieIndex].id,{params:{api_key:"c4ad04648c8511d24d60ef4965cb2e52",append_to_response:"credits"}})},handleGuess:Object(E.debounce)(function(){!this.solved&&this.fuzzyMatching.get(this.currentGuess).distance>=.8&&(this.solved=!0,this.handleCorrectGuess())},200),handleCorrectGuess:function(){H.$emit("stop-timer"),this.roundHistory.unshift({round:this.currentQuestion,name:this.currentMovie.title,success:!0}),Object(E.delay)(this.nextRound,3e3)},handleTimeRanOut:function(){H.$emit("stop-timer"),this.roundHistory.unshift({round:this.currentQuestion,name:this.currentMovie.title,success:!1}),Object(E.delay)(this.nextRound,3e3)},nextRound:function(){var t=this;this.gameOver?this.finishGame():(this.currentQuestion++,this.currentGuess="",this.solved=!1,this.getMovie().then(function(e){t.currentMovie=e.data,t.currentMovieIndex++,t.fuzzyMatching=new Q.a([t.currentMovie.title]),H.$emit("reset-movie"),H.$emit("reset-timer"),Object(E.delay)(function(){H.$emit("start-timer")},1e3)}).catch(function(t){console.log(t)}))},finishGame:function(){console.log("finish game")},addToScore:function(t){this.score+=t}}},ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"container"},[i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-vertical is-parent is-8"},[i("div",{staticClass:"tile is-child box"},[i("Movie",{attrs:{info:t.currentMovie}})],1)]),t._v(" "),i("div",{staticClass:"tile is-vertical is-parent is-4"},[i("div",{staticClass:"tile is-child box notification is-success"},[i("span",{staticClass:"title"},[t._v(t._s(this.score))]),t._v(" "),i("span",{staticClass:"title"},[t._v("points")]),t._v(" "),i("span",{staticClass:"sub-title is-block"},[t._v("Movie "+t._s(this.currentQuestion)+"/"+t._s(this.totalQuestions))])]),t._v(" "),i("div",{staticClass:"tile is-child box answer-section"},[i("Timer"),t._v(" "),i("hr"),t._v(" "),i("b-field",{staticClass:"is-size-4",attrs:{label:"Movie Title"}},[i("b-input",{model:{value:t.currentGuess,callback:function(e){t.currentGuess=e},expression:"currentGuess"}})],1),t._v(" "),t.solved&&!t.gameOver?i("span",{staticClass:"subtitle has-text-success is-6"},[t._v("You got it! Next one coming up...")]):t._e(),t._v(" "),t.gameOver?i("span",{staticClass:"subtitle has-text-success is-6"},[t._v("Game Over. Click 'Reset' to start over")]):t._e()],1),t._v(" "),i("div",{staticClass:"tile is-child box"},[i("div",{staticClass:"history-header"},[i("span",{staticClass:"subtitle is-marginless"},[t._v("History")]),t._v(" "),i("router-link",{staticClass:"button is-primary",attrs:{to:"/"}},[t._v("Reset")])],1),t._v(" "),i("ul",t._l(t.roundHistory,function(e){return i("li",{key:e.round,staticClass:"round-result"},[i("div",{staticClass:"notification",class:[e.success?"is-success":"is-danger"]},[i("span",{staticClass:"is-size-4"},[t._v(t._s(e.round))]),t._v(" "),i("span",[t._v(t._s(e.name))])])])}))])])])])},rt=[],at={render:ot,staticRenderFns:rt},ct=at,ut=i("VU/8"),ht=a,lt=ut(nt,ct,!1,ht,"data-v-e7ca990e",null),vt=lt.exports;c.a.use(b.a);var dt=new b.a({routes:[{path:"/",name:"Intro",component:S},{path:"/game?start=:start&end:end",name:"Game",component:vt,props:{Game:!0}}]});c.a.config.productionTip=!1,new c.a({el:"#app",router:dt,template:"<App/>",components:{App:g}})},SmIP:function(t,e){},Xpi0:function(t,e){},doPI:function(t,e){},ulSH:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f3a645ee80ffab244e53.js.map